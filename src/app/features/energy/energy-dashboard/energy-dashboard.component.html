<div class="energy-dashboard">
  <h1 class="page-title">Energy tracking</h1>
  <p class="page-intro">
    Log how you feel throughout the day. Trends help align tasks with your energy.
  </p>

  <section class="card check-in-form">
    <h3>Daily check-in</h3>
    <div class="form-row">
      <div class="form-group">
        <label>Time of day</label>
        <select [(ngModel)]="newCheckIn.timeOfDay">
          <option *ngFor="let t of timeOfDayOptions" [value]="t.value">{{ t.label }}</option>
        </select>
      </div>
      <div class="form-group">
        <label>Energy level</label>
        <select [(ngModel)]="newCheckIn.level">
          <option *ngFor="let e of energyLevels" [value]="e.value">{{ e.label }}</option>
        </select>
      </div>
    </div>
    <div class="form-group">
      <label>Note (optional)</label>
      <input type="text" [(ngModel)]="newCheckIn.note" placeholder="e.g. Good sleep, light lunch" />
    </div>
    <button type="button" class="btn btn--primary" (click)="submitCheckIn()">Log check-in</button>
  </section>

  <section class="card" *ngIf="todayCheckIns.length">
    <h3>Today's check-ins</h3>
    <ul class="check-in-list">
      <li *ngFor="let c of todayCheckIns" class="check-in-item">
        <span class="badge badge--energy" [attr.data-energy]="c.level">{{ c.level }}</span>
        <span>{{ c.timeOfDay }}</span>
        <span *ngIf="c.note" class="check-in-note">{{ c.note }}</span>
      </li>
    </ul>
  </section>

  <section class="card chart-section">
    <h3>Energy trend (last 14 days)</h3>
    <div class="chart-wrap" *ngIf="energyChartData.labels?.length">
      <canvas baseChart
        [data]="energyChartData"
        [options]="energyChartOptions"
        type="line">
      </canvas>
    </div>
    <p *ngIf="!energyChartData.labels?.length" class="empty">Log check-ins to see your energy trend.</p>
  </section>
</div>
